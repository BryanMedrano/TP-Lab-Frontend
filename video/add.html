<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add Video</title>
    <!-- Agregar Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-4">

<h2 class="text-center">Adicionar Video</h2>

<form class="mt-3">
    <div class="mb-3">
        <label for="code" class="form-label">Code:</label>
        <input type="text" id="code" class="form-control" name="code">
    </div>
    <div class="mb-3">
        <label for="title" class="form-label">Title:</label>
        <input type="text" id="title" class="form-control" name="title">
    </div>
    <div class="mb-3">
        <label for="description" class="form-label">Description:</label>
        <textarea id="description" class="form-control" name="description"></textarea>
    </div>
    <div class="mb-3">
        <label for="duration" class="form-label">Duration:</label>
        <input type="number" step="0.1" id="duration" class="form-control" name="duration">
    </div>
    <button type="button" class="btn btn-primary" onclick="add();">Guardar</button>
</form>

<a href="../index.html" class="btn btn-secondary mt-3">Volver al inicio</a>

</body>
<script>
    function add() {
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.open("POST", "http://localhost:8080/videos", true);
        xmlhttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");

        var newVideo = {
            "code": document.getElementById("code").value,
            "title": document.getElementById("title").value,
            "description": document.getElementById("description").value,
            "duration": parseFloat(document.getElementById("duration").value)
        };

        console.log("Adding video: " + JSON.stringify(newVideo));
        xmlhttp.send(JSON.stringify(newVideo));
    }
</script>
</html>
